<h2 ng-if="!$ctrl.isAddMode" class="mt-3">
	Lista proizvoda:
</h2>
<h2 ng-if="$ctrl.isAddMode" class="mt-3">
	Kreiranje nove narud탑benice:
</h2>

<!--Navigation buttons-->
<div class="btn-toolbar mb-3">
	<div class="btn-group btn-group-lg mr-2">
		<button class="btn btn-custom"
			ng-click="$ctrl.refresh()">
				<i class="fas fa-sync"></i>
		</button>
	</div>
	<div class="btn-group btn-group-lg mr-2">
		<button class="btn btn-custom"
			ng-click="$ctrl.first()">
				<i class="fas fa-angle-double-left"></i>
		</button>
		<button class="btn btn-custom"
			ng-click="$ctrl.previous()">
				<i class="fas fa-angle-left"></i>
		</button>
		<button class="btn btn-custom"
			ng-click="$ctrl.next()">
				<i class="fas fa-angle-right"></i>
		</button>
		<button class="btn btn-custom"
			ng-click="$ctrl.last()">
				<i class="fas fa-angle-double-right"></i>
		</button>
	</div>
	<div class="btn-group btn-group-lg mr-2">
		<button class="btn btn-custom"
			ng-click="$ctrl.isAddMode = !$ctrl.isAddMode">
				<i class="fas fa-plus-circle"></i>
		</button>
	</div>
	<div class="btn-group btn-group-lg mr-2">
		<a class="btn btn-custom" ui-sref="">
			<i class="fas fa-hand-point-right"></i>
		</a>
	</div>
	<!--Search box-->
	<div class="input-group input-group-lg mr-2">
		<input type="text"
			class="form-control"
			ng-model="$ctrl.search"
			placeholder="Pretraga"
			autofocus/>
		<div class="input-group-append">
			<button class="btn btn-custom">
				<i class="fas fa-search"></i>
			</button>
		</div>
	</div>
</div>

<!--Add new form-->
<form ng-if="$ctrl.isAddMode" name="addNarudzbenicaForm" class="form-inline mb-1">
	<input type="number"
		class="form-control mr-2"
		ng-model="$ctrl.narudzbenica.idPoslovnogPartnera"
		required/>
	<input type="submit"
		class="btn btn-custom mr-2"
		value="Naru훾i"
		ng-click="addNarudzbenicaForm.$valid && $ctrl.add()">
	{{$ctrl.addStatus}}
</form>

<!--Table-->
<div class="table-responsive">
	<table class="table table-dark table-bordered table-hover px-md-5">
		<thead>
			<tr>
				<th>Proizvod:</th>
				<th>Cena:</th>
				<th>Stopa PDV:</th>
				<th>PDV:</th>
				<th ng-if="$ctrl.isAddMode" class="w-25">
					Koli훾ina
				</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="stavka in $ctrl.stavke | filter:$ctrl.search track by stavka.proizvod.id"
				ng-click="$ctrl.selected(stavka)"
				ng-class="{'active-row': $ctrl.selectedStavka.proizvod.id === stavka.proizvod.id}">
					<td>{{stavka.proizvod.naziv}}</td>
					<td>{{stavka.cena}}</td>
					<td>{{stavka.stopaPDV}}</td>
					<td>{{stavka.pdv}}</td>
					<td ng-if="$ctrl.isAddMode" class="w-25">
						<form class="form-inline">
							<div class="input-group mr-sm-2">
								<input type="number"
									class="form-control"
									ng-model="stavka.kolicina"
									placeholder="Koli훾ina"
									min="0"/>
								<div class="input-group-append">
									<span class="input-group-text">
										<i class="fas fa-shopping-cart"></i>
									</span>
								</div>
							</div>
						</form>
					</td>
			</tr>
		</tbody>
	</table>
</div>
